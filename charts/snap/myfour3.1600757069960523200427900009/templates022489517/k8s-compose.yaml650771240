apiVersion: apps/v1
kind: Deployment
metadata:
  creationTimestamp: null
  labels:
    app: {{.Values.name}}
  name: {{.Values.name}}
spec:
  replicas: {{.Values.replicas}}
  selector:
    matchLabels:
      app: {{.Values.name}}
  strategy: {}
  template:
    metadata:
      creationTimestamp: null
      labels:
        app: {{.Values.name}}
    spec:
      containers:
      - image: 
{{.Values.image}}:{{.Values.imageTag}}
        name: {{.Values.name}}
        ports:
          - containerPort: 80
---
kind: Service 
apiVersion: v1 
metadata:   
  name: {{.Values.name}}
spec:   
  ports:     
    - name: http       
      nodePort: {{.Values.nodePort}}       
      port: 80       
      targetPort: 80   
  selector:       
    app: {{.Values.name}}   
  type: NodePort
